import pandas as pd
import statsmodels.api as stats

df = pd.read_csv("C:\AirPassengers.csv", index_col=0)
# importing the document from wherever it is


variable_time = df.time
variable_pass = df.AirPassengers

variable_time = stats.add_constant(variable_time)
# making each of the variables into a list
# adding a constant

# regression begins
# doing the regression using statsmodels

results = stats.OLS(variable_pass, variable_time)
results = results.fit()
print results.summary()
# text analysis

# graphing
fitted_line = results.fittedvalues
# creating a line as a list

from bokeh.plotting import figure, output_file, show
output_file('output.html',title = 'output')
p = figure(title = 'Line of Best Fit', x_axis_label = 'Date', y_axis_label = 'Number of Passengers')
p.circle(df.time, variable_pass, legend = "y = x", fill_color = "blue", line_color = "blue", size = 2)
# scatterplot
p.line(df.time, fitted_line, legend = 'line of best fit', line_color = 'red', line_width = 2)
# line of best fit
# show(p)
# output
